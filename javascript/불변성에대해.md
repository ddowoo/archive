# 불변성

## 불변성이란?

- <b>_메모리 영역에서는 값이 변하지 않는다_</b>

- 원시타입 vs 참조타입 (사전 지식)

  - 원시타입

    - 고정된 크기로 메모리에 저장
    - 실제 데이터가 변수에 할당

  - 참조타입

    - 데이터 크기 고정 X
    - 데이터 값 heap에 저장
    - 변수에는 heap의 주소값 저장

- 원시타입은 불변성을 가지고 있음

  - 원시타입 예시

    ```javascript
    let string = 'first';
    string = 'second';
    ```

    - 위와 같은 경우 메모리 두개 사용

    - 즉 'first'에 대한 메모리 값을 변형 하는게 아닌 새로운 메모리에 'second'를 할당

  - 참조타입 예시

    ```javascript
    let arr = []; // 메모리 영역1
    arr.push('first'); // 메모리 영역1

    arr = ['second']; // 메모리 영역2
    ```

    - 첫번째의 경우 불변성이 지켜지지 않음

## React에서 불변성

- 상태 업데이트의 원리 때문에 React에서는 불변성이 중요.

  - 리액트는 상태 변경시 얕은 비교 수행

  - 그렇게 때문에 위 참조 타입의 예시 같은 경우 `arr.push('first')`로 값을 변경해도 메모리에서 값이 변해 불변성을 지키지 못했기 때문에 React는 상태 없데이트 필요성을 감지하지 못함

<br/>
<br/>

## 불변성이 중요한 이유

- React에서 얕은 비교 수행 이유

  - 모든 값을 확인할 필요 없이 상태를 업데이트할 수 있어서 연산이 줄어 효율적

<br/>

- 사이드 이펙트 방지 및 프로그래밍 구조 단순성

  - 참조 타입 변경시 원본 데이터를 변경하면 프로그램의 다른 부분에서 오류가 발생 할 수 있음

<br/>

- <b>디버깅 용이</b>

  - 특정 시점에서 데이터가 어떤 상태였는지 추적 => 오류 원인 찾기 좋음

<br/>

- <b>코드 재사용성 향상</b>

  - 불변 데이터는 다른 부분에서도 안전하게 재사용

<br/>

React뿐만 아니라 모든 프로그래밍 언어에서 불변성을 유지하는 것은 코드 품질을 높이고 안정적인 애플리케이션을 개발하는 데 필수적인 요소입니다.
